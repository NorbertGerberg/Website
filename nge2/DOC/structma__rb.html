<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Norbert&#39;s Game Engine: ma_rb Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Norbert&#39;s Game Engine<span id="projectnumber">&#160;v200</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structma__rb-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ma_rb Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a12e106765cc15b322c50d03cde158ba9" id="r_a12e106765cc15b322c50d03cde158ba9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12e106765cc15b322c50d03cde158ba9">pBuffer</a></td></tr>
<tr class="separator:a12e106765cc15b322c50d03cde158ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76755eecd3f8f4d2cf40a61d023538f1" id="r_a76755eecd3f8f4d2cf40a61d023538f1"><td class="memItemLeft" align="right" valign="top">ma_uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76755eecd3f8f4d2cf40a61d023538f1">subbufferSizeInBytes</a></td></tr>
<tr class="separator:a76755eecd3f8f4d2cf40a61d023538f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6097d72dafeda1ae507a7e027f1641fc" id="r_a6097d72dafeda1ae507a7e027f1641fc"><td class="memItemLeft" align="right" valign="top">ma_uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6097d72dafeda1ae507a7e027f1641fc">subbufferCount</a></td></tr>
<tr class="separator:a6097d72dafeda1ae507a7e027f1641fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7dffc2cee1c0ec0c749f270d3664d0" id="r_a9d7dffc2cee1c0ec0c749f270d3664d0"><td class="memItemLeft" align="right" valign="top">ma_uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d7dffc2cee1c0ec0c749f270d3664d0">subbufferStrideInBytes</a></td></tr>
<tr class="separator:a9d7dffc2cee1c0ec0c749f270d3664d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa33d595abd4b6eba68fc59cf9ec71816" id="r_aa33d595abd4b6eba68fc59cf9ec71816"><td class="memItemLeft" align="right" valign="top">volatile ma_uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa33d595abd4b6eba68fc59cf9ec71816">encodedReadOffset</a></td></tr>
<tr class="separator:aa33d595abd4b6eba68fc59cf9ec71816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84baf1bcb9b3102b036551b04589b156" id="r_a84baf1bcb9b3102b036551b04589b156"><td class="memItemLeft" align="right" valign="top">volatile ma_uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84baf1bcb9b3102b036551b04589b156">encodedWriteOffset</a></td></tr>
<tr class="separator:a84baf1bcb9b3102b036551b04589b156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09e2cd49004e01bd1fac6554c5d78508" id="r_a09e2cd49004e01bd1fac6554c5d78508"><td class="memItemLeft" align="right" valign="top">ma_bool32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09e2cd49004e01bd1fac6554c5d78508">ownsBuffer</a>: 1</td></tr>
<tr class="separator:a09e2cd49004e01bd1fac6554c5d78508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae94f700fb29e93c3f7d8a43faf9ec8a0" id="r_ae94f700fb29e93c3f7d8a43faf9ec8a0"><td class="memItemLeft" align="right" valign="top">ma_bool32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae94f700fb29e93c3f7d8a43faf9ec8a0">clearOnWriteAcquire</a>: 1</td></tr>
<tr class="separator:ae94f700fb29e93c3f7d8a43faf9ec8a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="autotoc_md10"></a>
Ring Buffer</h1>
<h2><a class="anchor" id="autotoc_md11"></a>
Features</h2>
<ul>
<li>Lock free (assuming single producer, single consumer)</li>
<li>Support for interleaved and deinterleaved streams</li>
<li>Allows the caller to allocate their own block of memory</li>
</ul>
<h2><a class="anchor" id="autotoc_md12"></a>
Usage</h2>
<ul>
<li>Call ma_rb_init() to initialize a simple buffer, with an optional pre-allocated buffer. If you pass in NULL for the pre-allocated buffer, it will be allocated for you and free()'d in ma_rb_uninit(). If you pass in your own pre-allocated buffer, free()-ing is left to you.</li>
<li>Call ma_rb_init_ex() if you need a deinterleaved buffer. The data for each sub-buffer is offset from each other based on the stride. Use ma_rb_get_subbuffer_stride(), ma_rb_get_subbuffer_offset() and ma_rb_get_subbuffer_ptr() to manage your sub-buffers.</li>
<li>Use ma_rb_acquire_read() and ma_rb_acquire_write() to retrieve a pointer to a section of the ring buffer. You specify the number of bytes you need, and on output it will set to what was actually acquired. If the read or write pointer is positioned such that the number of bytes requested will require a loop, it will be clamped to the end of the buffer. Therefore, the number of bytes you're given may be less than the number you requested.</li>
<li>After calling ma_rb_acquire_read/write(), you do your work on the buffer and then "commit" it with ma_rb_commit_read/write(). This is where the read/write pointers are updated. When you commit you need to pass in the buffer that was returned by the earlier call to ma_rb_acquire_read/write() and is only used for validation. The number of bytes passed to ma_rb_commit_read/write() is what's used to increment the pointers.</li>
<li>If you want to correct for drift between the write pointer and the read pointer you can use a combination of ma_rb_pointer_distance(), ma_rb_seek_read() and ma_rb_seek_write(). Note that you can only move the pointers forward, and you should only move the read pointer forward via the consumer thread, and the write pointer forward by the producer thread. If there is too much space between the pointers, move the read pointer forward. If there is too little space between the pointers, move the write pointer forward.</li>
</ul>
<h2><a class="anchor" id="autotoc_md13"></a>
Notes</h2>
<ul>
<li>Thread safety depends on a single producer, single consumer model. Only one thread is allowed to write, and only one thread is allowed to read. The producer is the only one allowed to move the write pointer, and the consumer is the only one allowed to move the read pointer.</li>
<li>Operates on bytes. Use <a class="el" href="structma__pcm__rb.html">ma_pcm_rb</a> to operate in terms of PCM frames.</li>
<li>Maximum buffer size in bytes is 0x7FFFFFFF-(MA_SIMD_ALIGNMENT-1) because of reasons.</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
PCM Ring Buffer</h1>
<p>This is the same as the regular ring buffer, except that it works on PCM frames instead of bytes. </p>

<p class="definition">Definition at line <a class="el" href="miniaudio_8h_source.html#l01441">1441</a> of file <a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="ae94f700fb29e93c3f7d8a43faf9ec8a0" name="ae94f700fb29e93c3f7d8a43faf9ec8a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae94f700fb29e93c3f7d8a43faf9ec8a0">&#9670;&#160;</a></span>clearOnWriteAcquire</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ma_bool32 ma_rb::clearOnWriteAcquire</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="miniaudio_8h_source.html#l01450">1450</a> of file <a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>.</p>

</div>
</div>
<a id="aa33d595abd4b6eba68fc59cf9ec71816" name="aa33d595abd4b6eba68fc59cf9ec71816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa33d595abd4b6eba68fc59cf9ec71816">&#9670;&#160;</a></span>encodedReadOffset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile ma_uint32 ma_rb::encodedReadOffset</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="miniaudio_8h_source.html#l01447">1447</a> of file <a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>.</p>

</div>
</div>
<a id="a84baf1bcb9b3102b036551b04589b156" name="a84baf1bcb9b3102b036551b04589b156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84baf1bcb9b3102b036551b04589b156">&#9670;&#160;</a></span>encodedWriteOffset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile ma_uint32 ma_rb::encodedWriteOffset</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="miniaudio_8h_source.html#l01448">1448</a> of file <a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>.</p>

</div>
</div>
<a id="a09e2cd49004e01bd1fac6554c5d78508" name="a09e2cd49004e01bd1fac6554c5d78508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09e2cd49004e01bd1fac6554c5d78508">&#9670;&#160;</a></span>ownsBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ma_bool32 ma_rb::ownsBuffer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="miniaudio_8h_source.html#l01449">1449</a> of file <a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>.</p>

</div>
</div>
<a id="a12e106765cc15b322c50d03cde158ba9" name="a12e106765cc15b322c50d03cde158ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12e106765cc15b322c50d03cde158ba9">&#9670;&#160;</a></span>pBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ma_rb::pBuffer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="miniaudio_8h_source.html#l01443">1443</a> of file <a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>.</p>

</div>
</div>
<a id="a6097d72dafeda1ae507a7e027f1641fc" name="a6097d72dafeda1ae507a7e027f1641fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6097d72dafeda1ae507a7e027f1641fc">&#9670;&#160;</a></span>subbufferCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ma_uint32 ma_rb::subbufferCount</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="miniaudio_8h_source.html#l01445">1445</a> of file <a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>.</p>

</div>
</div>
<a id="a76755eecd3f8f4d2cf40a61d023538f1" name="a76755eecd3f8f4d2cf40a61d023538f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76755eecd3f8f4d2cf40a61d023538f1">&#9670;&#160;</a></span>subbufferSizeInBytes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ma_uint32 ma_rb::subbufferSizeInBytes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="miniaudio_8h_source.html#l01444">1444</a> of file <a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>.</p>

</div>
</div>
<a id="a9d7dffc2cee1c0ec0c749f270d3664d0" name="a9d7dffc2cee1c0ec0c749f270d3664d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d7dffc2cee1c0ec0c749f270d3664d0">&#9670;&#160;</a></span>subbufferStrideInBytes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ma_uint32 ma_rb::subbufferStrideInBytes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="miniaudio_8h_source.html#l01446">1446</a> of file <a class="el" href="miniaudio_8h_source.html">miniaudio.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>H:/PersonalUse/NGE2/NGE/SoLoud/<a class="el" href="miniaudio_8h_source.html">miniaudio.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
